{"version":3,"sources":["parallax-scrolling.js"],"names":["$","setTimeout","addClass","find","fadeIn","score","currentQ","skrollrObj","on","e","point","data","switchQuest","q","animate","left","children","css","removeClass","remove","skrollr","init","window","location","href","getScrollTop","result","destroy","off"],"mappings":";;AAAAA,EAAE,YAAU;AACV;AACAC,aAAW,YAAU;AACnBD,MAAE,cAAF,EAAkBE,QAAlB,CAA2B,MAA3B;AACAF,MAAE,KAAF,EAASG,IAAT,CAAc,mBAAd,EAAmCC,MAAnC,CAA0C,GAA1C,EAA+C,YAAU;AACvDJ,QAAE,KAAF,EAASG,IAAT,CAAc,mBAAd,EAAmCD,QAAnC,CAA4C,SAA5C;AACD,KAFD;AAGD,GALD,EAKE,IALF;;AAOA,MAAIG,QAAQ,CAAZ;AACA,MAAIC,WAAW,CAAf;AACA,MAAIC,mBAAJ;;AAEAP,IAAE,SAAF,EAAaQ,EAAb,CAAgB,OAAhB,EAAyB,UAASC,CAAT,EAAW;AAClC,QAAMC,QAAQV,EAAE,IAAF,EAAQW,IAAR,CAAa,OAAb,CAAd;AACAN,aAASK,KAAT;AACAJ;AACAM,gBAAYN,QAAZ;AACD,GALD;;AAOA,WAASM,WAAT,CAAqBC,CAArB,EAAuB;AACrB;AACA,QAAGA,KAAG,CAAN,EAAQ;AACNb,QAAE,KAAF,EAASc,OAAT,CAAiB,EAACC,MAAM,OAAP,EAAjB,EAAkC,IAAlC,EAAwC,YAAU;AAChDf,UAAE,IAAF,EAAQE,QAAR,CAAiB,MAAjB;AACAF,UAAE,KAAF,EAASG,IAAT,CAAc,mBAAd,EAAmCC,MAAnC,CAA0C,GAA1C;AACAJ,UAAE,KAAF,EAASG,IAAT,CAAc,mBAAd,EAAmCD,QAAnC,CAA4C,SAA5C;AACD,OAJD;AAKAF,QAAE,8CAAF,EAAkDgB,QAAlD,GAA6DC,GAA7D,CAAiE,SAAjE,EAA2E,MAA3E;AACD,KAPD,MAOM,IAAGJ,KAAG,CAAN,EAAQ;AACZb,QAAE,KAAF,EAASc,OAAT,CAAiB,EAACC,MAAM,MAAP,EAAjB,EAAiC,IAAjC,EAAuC,YAAU;AAC/Cf,UAAE,IAAF,EAAQE,QAAR,CAAiB,MAAjB;AACAF,UAAE,KAAF,EAASG,IAAT,CAAc,mBAAd,EAAmCC,MAAnC,CAA0C,GAA1C;AACAJ,UAAE,KAAF,EAASG,IAAT,CAAc,mBAAd,EAAmCD,QAAnC,CAA4C,SAA5C;AACD,OAJD;AAKAF,QAAE,8CAAF,EAAkDgB,QAAlD,GAA6DC,GAA7D,CAAiE,SAAjE,EAA2E,MAA3E;AACD,KAPK,MAOD;AACHjB,QAAE,UAAF,EAAckB,WAAd,CAA0B,MAA1B;AACAlB,QAAE,KAAF,EAASc,OAAT,CAAiB,EAACC,MAAM,OAAP,EAAjB,EAAkC,IAAlC,EAAwC,YAAU;AAChDf,UAAE,IAAF,EAAQE,QAAR,CAAiB,MAAjB;AACAF,UAAE,YAAF,EAAgBmB,MAAhB;AACAnB,UAAE,6BAAF,EAAiCI,MAAjC,CAAwC,GAAxC;AACAG,qBAAaa,QAAQC,IAAR,EAAb;AACD,OALD;AAMArB,QAAE,8CAAF,EAAkDgB,QAAlD,GAA6DC,GAA7D,CAAiE,SAAjE,EAA2E,MAA3E;AACD;AACF;;AAEDjB,IAAE,UAAF,EAAcQ,EAAd,CAAiB,OAAjB,EAA0B,YAAU;AAClCc,WAAOC,QAAP,CAAgBC,IAAhB,GAAuB,yBAAvB;AACD,GAFD;;AAIAxB,IAAEsB,MAAF,EAAUd,EAAV,CAAa,QAAb,EAAuB,YAAU;AAC/B,QAAGD,WAAWkB,YAAX,MAA6B,IAAhC,EAAqC;AACnC,UAAIC,SAAS,EAAb;AACA,UAAGrB,QAAQ,CAAX,EAAa;AACXqB,iBAAS,kBAAT;AACD,OAFD,MAEM,IAAGrB,QAAQ,EAAX,EAAc;AAClBqB,iBAAS,cAAT;AACD,OAFK,MAED;AACHA,iBAAS,gBAAT;AACD;AACD1B,QAAE,MAAF,EAAUiB,GAAV,CAAc,iBAAd,EAAgC,MAAhC;AACAjB,QAAE0B,MAAF,EAAUR,WAAV,CAAsB,MAAtB;AACAX,iBAAWoB,OAAX;AACA1B,iBAAW,YAAU;AACnBD,UAAE0B,MAAF,EAAUxB,QAAV,CAAmB,SAAnB;AACAF,UAAEsB,MAAF,EAAUM,GAAV,CAAc,QAAd;AACD,OAHD,EAGE,CAHF;AAID;AACF,GAlBD;;AAoBA5B,IAAE,OAAF,EAAWQ,EAAX,CAAc,UAAd,EAA0B,UAASC,CAAT,EAAW;AACnC,QAAGF,WAAWkB,YAAX,MAA6B,IAAhC,EAAqC;AACnC,UAAIC,SAAS,EAAb;AACA,UAAGrB,QAAQ,CAAX,EAAa;AACXqB,iBAAS,kBAAT;AACD,OAFD,MAEM,IAAGrB,QAAQ,EAAX,EAAc;AAClBqB,iBAAS,cAAT;AACD,OAFK,MAED;AACHA,iBAAS,gBAAT;AACD;AACD1B,QAAE,MAAF,EAAUiB,GAAV,CAAc,iBAAd,EAAgC,MAAhC;AACAjB,QAAE0B,MAAF,EAAUR,WAAV,CAAsB,MAAtB;AACAX,iBAAWoB,OAAX;AACA1B,iBAAW,YAAU;AACnBD,UAAE0B,MAAF,EAAUxB,QAAV,CAAmB,SAAnB;AACAF,UAAE,OAAF,EAAW4B,GAAX,CAAe,UAAf;AACD,OAHD,EAGE,CAHF;AAID;AACF,GAlBD;AAmBD,CA3FD","file":"parallax-scrolling.js","sourcesContent":["$(function(){\r\n  //開頭動畫結束切換場景\r\n  setTimeout(function(){\r\n    $('.ani_opening').addClass('hide');\r\n    $('.q1').find('.question_content').fadeIn(500, function(){\r\n      $('.q1').find('.question_graphic').addClass('animate');\r\n    });\r\n  },7500);\r\n\r\n  let score = 0;\r\n  let currentQ = 1;\r\n  let skrollrObj;\r\n\r\n  $('.answer').on('click', function(e){\r\n    const point = $(this).data('point');\r\n    score += point;\r\n    currentQ++;\r\n    switchQuest(currentQ);\r\n  })\r\n\r\n  function switchQuest(q){\r\n    //切換到問題2\r\n    if(q==2){\r\n      $('.q1').animate({left: '-100%'}, 1000, function(){\r\n        $(this).addClass('hide');\r\n        $('.q2').find('.question_content').fadeIn(500);\r\n        $('.q2').find('.question_graphic').addClass('animate');\r\n      });\r\n      $('.q1 .question_content, .q1 .question_graphic').children().css('display','none');\r\n    }else if(q==3){\r\n      $('.q2').animate({left: '100%'}, 1000, function(){\r\n        $(this).addClass('hide');\r\n        $('.q3').find('.question_content').fadeIn(500);\r\n        $('.q3').find('.question_graphic').addClass('animate');\r\n      });\r\n      $('.q2 .question_content, .q2 .question_graphic').children().css('display','none');\r\n    }else{\r\n      $('#skrollr').removeClass('hide');\r\n      $('.q3').animate({left: '-100%'}, 1000, function(){\r\n        $(this).addClass('hide');\r\n        $('.questions').remove();\r\n        $('.step_done h2, .step_done p').fadeIn(500);\r\n        skrollrObj = skrollr.init();\r\n      });\r\n      $('.q3 .question_content, .q3 .question_graphic').children().css('display','none');\r\n    }\r\n  }\r\n\r\n  $('.restart').on('click', function(){\r\n    window.location.href = 'parallax-scrolling.html';\r\n  });\r\n\r\n  $(window).on('scroll', function(){\r\n    if(skrollrObj.getScrollTop() >= 7450){\r\n      let result = '';\r\n      if(score < 6){\r\n        result = '.result_triangle';\r\n      }else if(score < 12){\r\n        result = '.result_rect';    \r\n      }else{\r\n        result = '.result_circle';\r\n      }\r\n      $('body').css('backgroundColor','#fff');\r\n      $(result).removeClass('hide');\r\n      skrollrObj.destroy();\r\n      setTimeout(function(){\r\n        $(result).addClass('animate');\r\n        $(window).off('scroll');\r\n      },0);\r\n    }\r\n  });\r\n\r\n  $('.step').on('touchend', function(e){\r\n    if(skrollrObj.getScrollTop() >= 7450){\r\n      let result = '';\r\n      if(score < 6){\r\n        result = '.result_triangle';\r\n      }else if(score < 12){\r\n        result = '.result_rect';    \r\n      }else{\r\n        result = '.result_circle';\r\n      }\r\n      $('body').css('backgroundColor','#fff');\r\n      $(result).removeClass('hide');\r\n      skrollrObj.destroy();\r\n      setTimeout(function(){\r\n        $(result).addClass('animate');\r\n        $('.step').off('touchend');\r\n      },0);\r\n    }\r\n  })\r\n});"]}