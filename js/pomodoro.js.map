{"version":3,"sources":["pomodoro.js"],"names":["$","playMode","work","name","time","color","break","vm","Vue","el","data","mode","isPlaying","dueTime","totalTime","timer","todoInput","todoLists","id","title","finished","pomodoroCount","playingPieChart","playingPieConfig","displayPieChart","isModalShow","currentDetailModal","ringTone","computed","playingList","filter","list","queueLists","slice","undoLists","doneLists","modeBgClass","modeDisplayPieClass","modePlayBtnClass","displayDueTime","minute","Math","floor","toString","padStart","second","methods","addTodo","str","trim","push","Date","now","switchPlayingTodo","index","findIndex","todo","splice","unshift","createPlayingPie","playingPie","Chart","createDisplayPie","displayPie","type","datasets","borderColor","backgroundColor","createChartBar","chartBar","chartBarConfig","labels","label","options","legend","display","scales","yAxes","gridLines","ticks","fontColor","min","xAxes","map","i","length","chartBarChart","destroy","switchCountdown","pause","currentTime","tempCount","setInterval","play","clearCountdown","update","clearInterval","switchMode","showModal","num","backToPlaying","watch","val","setTimeout","mounted"],"mappings":"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","file":"pomodoro.js","sourcesContent":["$(function () {\r\n  const playMode = {\r\n    work: {\r\n      name: 'work',\r\n      time: 25,\r\n      color: '#FF4384',\r\n    },\r\n    break: {\r\n      name: 'break',\r\n      time: 5,\r\n      color: '#00A7FF',\r\n    },\r\n  };\r\n  const vm = new Vue({\r\n    el: '#app',\r\n    data: {\r\n      mode: playMode.work.name,\r\n      isPlaying: false,\r\n      dueTime: playMode.work.time*60*1000,\r\n      totalTime: playMode.work.time,\r\n      timer: null,\r\n      todoInput: '',\r\n      todoLists: [\r\n        {\r\n          id: 1,\r\n          title: '完成第一關番茄鐘',\r\n          finished: false,\r\n          pomodoroCount: 2,\r\n        },\r\n        {\r\n          id: 2,\r\n          title: '日用品採買',\r\n          finished: false,\r\n          pomodoroCount: 0,\r\n        },\r\n        {\r\n          id: 3,\r\n          title: '整理房間',\r\n          finished: false,\r\n          pomodoroCount: 0,\r\n        },\r\n        {\r\n          id: 4,\r\n          title: '修理椅子',\r\n          finished: true,\r\n          pomodoroCount: 4,\r\n        },\r\n        {\r\n          id: 5,\r\n          title: '洗衣服',\r\n          finished: true,\r\n          pomodoroCount: 3,\r\n        },\r\n        {\r\n          id: 6,\r\n          title: '曬衣服',\r\n          finished: false,\r\n          pomodoroCount: 0,\r\n        },\r\n      ],\r\n      playingPieChart: null,\r\n      playingPieConfig: {},\r\n      displayPieChart: null,\r\n      isModalShow: false,\r\n      currentDetailModal: 1,\r\n      ringTone: {\r\n        work: 'clown_horn',\r\n        break: 'pastoral',\r\n      }\r\n    },\r\n    computed: {\r\n      playingList() {\r\n        return this.todoLists.filter(list => !list.finished)[0];\r\n      },\r\n      queueLists() {\r\n        return this.todoLists.filter(list => !list.finished).slice(1,4);\r\n      },\r\n      undoLists() {\r\n        return this.todoLists.filter(list => !list.finished);\r\n      },\r\n      doneLists() {\r\n        return this.todoLists.filter(list => list.finished);\r\n      },\r\n      modeBgClass() {\r\n        switch(this.mode) {\r\n          case 'work':\r\n            return 'bg_work';\r\n          case 'break':\r\n            return 'bg_break';\r\n          default:\r\n            break;\r\n        }\r\n      },\r\n      modeDisplayPieClass() {\r\n        return {\r\n          'pie_work': this.mode === playMode.work.name,\r\n          'pie_break': this.mode === playMode.break.name,\r\n          'pie_playing': this.isPlaying,\r\n        };\r\n      },\r\n      modePlayBtnClass() {\r\n        return {\r\n          'work': this.mode === playMode.work.name,\r\n          'break': this.mode === playMode.break.name,\r\n          'playing': this.isPlaying,\r\n        }\r\n      },\r\n      displayDueTime() {\r\n        const minute = Math.floor(this.dueTime/1000/60).toString().padStart(2,0);\r\n        const second = Math.floor((this.dueTime - minute*60*1000)/1000).toString().padStart(2,0);\r\n        return `${minute}:${second}`;\r\n      },\r\n    },\r\n    methods: {\r\n      addTodo() {\r\n        const str = this.todoInput.trim();\r\n        if (!str) return;\r\n        this.todoLists.push({\r\n          id: Date.now(),\r\n          title: str,\r\n          finished: false,\r\n          pomodoroCount: 0,\r\n        });\r\n        this.todoInput = '';\r\n      },\r\n      switchPlayingTodo(list) {\r\n        const index = this.todoLists.findIndex(todo => todo.id === list.id);\r\n        this.todoLists.splice(index, 1);\r\n        this.todoLists.unshift(list);\r\n      },\r\n      createPlayingPie() {\r\n        const playingPie = $('.js_playing_pie');\r\n        this.playingPieChart = new Chart(playingPie, this.playingPieConfig);\r\n      },\r\n      createDisplayPie() {\r\n        const displayPie = $('.js_display_pie');\r\n        this.playingPieConfig = {\r\n          type: 'pie',\r\n          data: {\r\n            datasets: [{\r\n              data: [0, this.totalTime],\r\n              borderColor: playMode[this.mode]['color'],\r\n              backgroundColor: [playMode[this.mode]['color'], 'transparent'],\r\n            }],\r\n          },\r\n        };\r\n        this.displayPieChart = new Chart(displayPie, this.playingPieConfig);\r\n      },\r\n      createChartBar() {\r\n        const chartBar = $('.js_chart_bar');\r\n        this.chartBarConfig = {\r\n          type: 'bar',\r\n          data: {\r\n            labels: ['7/1', '7/2', '7/3', '7/4', '7/5', '7/6', '7/7'],\r\n            datasets: [{\r\n              label: 'FOCUS TIME',\r\n              data: [5, 10, 10, 6, 7, 9, 13],\r\n              backgroundColor: [],\r\n            }],\r\n          },\r\n          options: {\r\n            legend: {\r\n              display: false,\r\n            },\r\n            scales: {\r\n              yAxes: [{\r\n                gridLines: {\r\n                  display: false,\r\n                  color: '#fff',\r\n                },\r\n                ticks: {\r\n                  fontColor: '#fff',\r\n                  min: 0,\r\n                },\r\n              }],\r\n              xAxes: [{\r\n                gridLines: {\r\n                  display: false,\r\n                  color: '#fff',\r\n                },\r\n                ticks: {\r\n                  fontColor: '#fff',\r\n                },\r\n              }]\r\n            },\r\n          }\r\n        };\r\n        const backgroundColor = this.chartBarConfig.data.labels.map((label, i) => {\r\n          return i == this.chartBarConfig.data.labels.length-1 ? playMode.work.color : '#fff';\r\n        });\r\n        this.chartBarConfig.data.datasets[0].backgroundColor = backgroundColor;\r\n        if (this.chartBarChart) {\r\n          this.chartBarChart.destroy();\r\n          this.chartBarChart = null;\r\n        }\r\n        this.chartBarChart = new Chart(chartBar, this.chartBarConfig);\r\n      },\r\n      switchCountdown() {\r\n        // 第一次執行\r\n        if (!this.isPlaying && !this.timer) {\r\n          // 不管怎樣都先歸零鈴聲\r\n          $(`#js_ring_${this.ringTone[this.mode]}`)[0].pause();\r\n          $(`#js_ring_${this.ringTone[this.mode]}`)[0].currentTime=0;\r\n          if (this.mode === playMode.work.name) this.createPlayingPie();\r\n          this.isPlaying = true;\r\n          var tempCount = 0;\r\n          this.timer = setInterval(() => {\r\n            if (this.dueTime <= 0) {\r\n              // 播放音效\r\n              if (this.ringTone[this.mode] !== 'none') {\r\n                $(`#js_ring_${this.ringTone[this.mode]}`)[0].play();\r\n              }\r\n              this.clearCountdown();\r\n              if (this.mode === playMode.work.name) {\r\n                this.todoLists[0]['pomodoroCount']++;\r\n              }\r\n            }\r\n            if (this.isPlaying) {\r\n              this.dueTime -= 1000;\r\n              tempCount += 1;\r\n              const data = this.playingPieConfig.data.datasets[0].data;\r\n              if (Math.floor(tempCount/60) !== data[0]) {\r\n                data[0] = Math.floor(tempCount/60);\r\n                data[1] = this.totalTime - data[0];\r\n                if (this.mode === playMode.work.name) this.playingPieChart.update();\r\n                this.displayPieChart.update();\r\n              }\r\n            }\r\n          }, 1000);\r\n        } else if (this.isPlaying && this.timer) {\r\n          // 暫停倒數\r\n          this.isPlaying = false;\r\n        } else {\r\n          // 恢復倒數\r\n          this.isPlaying = true;\r\n        }\r\n      },\r\n      clearCountdown() {\r\n        clearInterval(this.timer);\r\n        this.timer = null;\r\n        this.isPlaying = false;\r\n        switch(this.mode) {\r\n          case 'work':\r\n            this.dueTime = playMode.work.time*60*1000;\r\n            this.totalTime = playMode.work.time;\r\n            break;\r\n          case 'break':\r\n            this.dueTime = playMode.break.time*60*1000;\r\n            this.totalTime = playMode.break.time;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        if (this.playingPieChart) {\r\n          this.playingPieChart.destroy();\r\n          this.playingPieChart = null;\r\n        }\r\n        if (this.displayPieChart) {\r\n          this.displayPieChart.destroy();\r\n          this.displayPieChart = null;\r\n        }\r\n        this.createDisplayPie();\r\n      },\r\n      switchMode() {\r\n        switch(this.mode) {\r\n          case 'work':\r\n            this.mode = playMode['break']['name'];\r\n            break;\r\n          case 'break':\r\n            this.mode = playMode['work']['name'];\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        this.clearCountdown();\r\n      },\r\n      showModal(num) {\r\n        this.currentDetailModal = num;\r\n        this.isModalShow = true;\r\n      },\r\n      backToPlaying() {\r\n        this.isModalShow = false;\r\n        if (this.mode !== playMode.work.name) {\r\n          this.switchMode();\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      currentDetailModal(val) {\r\n        if (val == 2) {\r\n          setTimeout(() => {\r\n            this.createChartBar();\r\n          }, 1500);\r\n        }\r\n      },\r\n    },\r\n    mounted() {\r\n      this.createDisplayPie();\r\n    },\r\n  });\r\n});"]}