{"version":3,"sources":["comic-viewer.js"],"names":["$","ps","PerfectScrollbar","chapterBtn","click","e","preventDefault","addClass","removeClass","window","scrollTo","toggleClass","pages","currentPage","totalPage","currentPageUrl","checkViewerBtn","removeAttr","attr","updateSelectChapter","viewerImg","data","navWidth","offsetWidth","offsetLeft","scrollLeft","src","is","scrollWidth","change","page","val","split","parseInt","parent","closest"],"mappings":"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","file":"comic-viewer.js","sourcesContent":["$(function(){\r\n  //perfect scroller\r\n  const ps = new PerfectScrollbar('.comic_page_viewer_nav');\r\n  // toogle to comic page\r\n  const chapterBtn = $('.comic_chapters_lists a');\r\n  chapterBtn.click(function(e){\r\n    e.preventDefault();\r\n    $('.comic_index').addClass('d-none');\r\n    $('.comic_page').removeClass('d-none');\r\n    window.scrollTo(0,0);\r\n  });\r\n  //toogle to comic index\r\n  $('.comic_page_title').click(function(e){\r\n    e.preventDefault();\r\n    $('.comic_index').removeClass('d-none');\r\n    $('.comic_page').addClass('d-none');\r\n    window.scrollTo(0,0);\r\n  });\r\n  //toogle view mode\r\n  $('#view_mode').click(function(){\r\n    $('#app').toggleClass('dark');\r\n  });\r\n  //count page\r\n  const pages = {\r\n    currentPage:1,\r\n    totalPage:12,\r\n    currentPageUrl(){\r\n      return `https://hexschool.github.io/THE_F2E_Design/week5-comic%20viewer/assets/storyboard-${this.currentPage}.png`\r\n    },\r\n    checkViewerBtn(){\r\n      $('.viewer_btn').removeAttr('disabled');\r\n      if(this.currentPage==1){\r\n        $('.viewer_btn.left').attr('disabled',true);\r\n      }else if(this.currentPage == this.totalPage){\r\n        $('.viewer_btn.right').attr('disabled',true);\r\n      }\r\n    },\r\n    updateSelectChapter(){\r\n      $('.select_page option').removeAttr('selected');\r\n      $(`.select_page option[value=\"p-${this.currentPage}\"]`).attr('selected',true);\r\n    }\r\n  }\r\n  \r\n  const viewerImg = $('.comic_page_viewer img')[0];\r\n  //page nav click\r\n  $('.page').click(function(){\r\n    $('.page').removeClass('active');\r\n    $(this).addClass('active');\r\n    pages.currentPage = $(this).data('page');\r\n    const navWidth = $('.comic_page_viewer_nav')[0].offsetWidth;\r\n    if($(this)[0].offsetLeft >= navWidth){\r\n      $('.comic_page_viewer_nav')[0].scrollLeft = $(this)[0].offsetLeft - navWidth + 80;\r\n    }else{\r\n      $('.comic_page_viewer_nav')[0].scrollLeft = 0;\r\n    }\r\n    viewerImg.src=pages.currentPageUrl();\r\n    pages.checkViewerBtn();\r\n    pages.updateSelectChapter();\r\n  });\r\n  //page nav scroll btn\r\n  $('.viewer_nav_btn').click(function(){\r\n    const navWidth = $('.comic_page_viewer_nav')[0].offsetWidth;\r\n    if($(this).is('.left')){\r\n      $('.comic_page_viewer_nav')[0].scrollLeft = 0;\r\n    }else{\r\n      $('.comic_page_viewer_nav')[0].scrollLeft = $('.comic_page_viewer_nav')[0].scrollWidth - navWidth;\r\n    }\r\n  });\r\n  //viewer btn\r\n  $('.viewer_btn').click(function(){\r\n    if($(this).is('.left')){\r\n      pages.currentPage--;\r\n    }else{\r\n      pages.currentPage++;\r\n    }\r\n    $(`.page[data-page=\"${pages.currentPage}\"]`).click();\r\n    pages.checkViewerBtn();\r\n  });\r\n  //page select\r\n  $('.select_page').change(function(){\r\n    const page = $(this).val().split('-')[1];\r\n    pages.currentPage = parseInt(page);\r\n    $(`.page[data-page=\"${pages.currentPage}\"]`).click();\r\n  });\r\n  //open fullscreen\r\n  $('.comic_page_viewer img').click(function(){\r\n    $(this).parent().addClass('fullscreen');\r\n  });\r\n  //close fullscreen\r\n  $('.close_btn').click(function(){\r\n    $(this).closest('.comic_page_viewer').removeClass('fullscreen');\r\n  });\r\n});\r\n"]}