{"version":3,"sources":["validation.js"],"names":["$","vm","Vue","el","data","step","progressTop","createAccount","mail","password","confirmPassword","generalInfo","phone","city","dist","address","files","fileErrName","paymentMethod","cardNumber","cardHolder","bankName","cvv","expireMonth","expireYear","methods","submitCheck","e","preventDefault","stopPropagation","currentTarget","addClass","checkValidity","removeClass","checkFile","_this","_URL","window","URL","webkitURL","leftImages","length","splice","forEach","file","i","type","includes","console","log","img","Image","onload","width","height","push","name","path","currentSrc","src","createObjectURL","watch","val","setCustomValidity"],"mappings":";;;;AAAAA,EAAE,YAAU;;AAEV,MAAMC,KAAK,IAAIC,GAAJ,CAAQ;AACjBC,QAAG,MADc;AAEjBC,UAAK;AACHC,YAAK,CADF;AAEHC,mBAAY,CAFT;AAGHC,qBAAc;AACZC,cAAK,EADO;AAEZC,kBAAS,EAFG;AAGZC,yBAAgB;AAHJ,OAHX;AAQHC,mBAAY;AACVC,eAAM,EADI;AAEVC,cAAK,EAFK;AAGVC,cAAK,EAHK;AAIVC,iBAAQ;AAJE,OART;AAcHC,aAAM,EAdH;AAeHC,mBAAY,EAfT;AAgBHC,qBAAc;AACZC,oBAAW,EADC;AAEZC,oBAAW,EAFC;AAGZC,kBAAS,EAHG;AAIZC,aAAI,EAJQ;AAKZC,qBAAY,EALA;AAMZC,oBAAW;AANC;AAhBX,KAFY;AA2BjBC,aAAQ;AACNC,iBADM,uBACMC,CADN,EACQ;AACZA,UAAEC,cAAF;AACAD,UAAEE,eAAF;AACA7B,UAAE2B,EAAEG,aAAJ,EAAmBC,QAAnB,CAA4B,eAA5B;AACA,YAAGJ,EAAEG,aAAF,CAAgBE,aAAhB,EAAH,EAAmC;AACjC,eAAK3B,IAAL;AACA,eAAKC,WAAL;AACAN,YAAE2B,EAAEG,aAAJ,EAAmBG,WAAnB,CAA+B,eAA/B;AACD;AACF,OAVK;AAWNC,eAXM,qBAWIP,CAXJ,EAWM;AACV,YAAMX,qCAAYW,EAAEG,aAAF,CAAgBd,KAA5B,EAAN;AACA,YAAMmB,QAAQ,IAAd;AACA,YAAMC,OAAOC,OAAOC,GAAP,IAAcD,OAAOE,SAAlC;AACA,YAAMC,aAAa,IAAIL,MAAMnB,KAAN,CAAYyB,MAAnC;AACAN,cAAMlB,WAAN,GAAoB,EAApB;AACA;AACA,YAAGD,MAAMyB,MAAN,GAAeD,UAAlB,EAA8BxB,MAAM0B,MAAN,CAAaF,UAAb;AAC9BxB,cAAM2B,OAAN,CAAc,UAACC,IAAD,EAAMC,CAAN,EAAU;AACtB,cAAG,CAACD,KAAKE,IAAL,CAAUC,QAAV,CAAmB,QAAnB,CAAJ,EAAiC;AAC/BC,oBAAQC,GAAR,CAAY,WAAZ;AACA;AACD;AACD,cAAMC,MAAM,IAAIC,KAAJ,EAAZ;AACAD,cAAIE,MAAJ,GAAa,UAAUzB,CAAV,EAAa;AACxB,gBAAG,KAAK0B,KAAL,GAAW,GAAX,IAAkB,KAAKC,MAAL,GAAY,GAAjC,EAAqC;AACnCnB,oBAAMlB,WAAN,CAAkBsC,IAAlB,CAAuBX,KAAKY,IAA5B;AACA;AACD;AACDrB,kBAAMnB,KAAN,CAAYuC,IAAZ,CAAiB5B,EAAE8B,IAAF,CAAO,CAAP,EAAUC,UAA3B;AACD,WAND;AAOAR,cAAIS,GAAJ,GAAUvB,KAAKwB,eAAL,CAAqBhB,IAArB,CAAV;AACD,SAdD;AAeD;AAlCK,KA3BS;AA+DjBiB,WAAM;AACJ,uCAAiC,sCAASC,GAAT,EAAa;AAC5C,YAAGA,QAAQ,KAAKvD,aAAL,CAAmBE,QAA9B,EAAuC;AACrCT,YAAE,wBAAF,EAA4B,CAA5B,EAA+B+D,iBAA/B,CAAiD,WAAjD;AACD,SAFD,MAEK;AACH/D,YAAE,wBAAF,EAA4B,CAA5B,EAA+B+D,iBAA/B,CAAiD,EAAjD;AACD;AACF;AAPG;AA/DW,GAAR,CAAX;AAyED,CA3ED","file":"validation.js","sourcesContent":["$(function(){\r\n\r\n  const vm = new Vue({\r\n    el:'#app',\r\n    data:{\r\n      step:1,\r\n      progressTop:0,\r\n      createAccount:{\r\n        mail:'',\r\n        password:'',\r\n        confirmPassword:''\r\n      },\r\n      generalInfo:{\r\n        phone:'',\r\n        city:'',\r\n        dist:'',\r\n        address:''\r\n      },\r\n      files:[],\r\n      fileErrName:[],\r\n      paymentMethod:{\r\n        cardNumber:'',\r\n        cardHolder:'',\r\n        bankName:'',\r\n        cvv:'',\r\n        expireMonth:'',\r\n        expireYear:''\r\n      }\r\n    },\r\n    methods:{\r\n      submitCheck(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        $(e.currentTarget).addClass('was-validated');\r\n        if(e.currentTarget.checkValidity()){\r\n          this.step++;\r\n          this.progressTop++;\r\n          $(e.currentTarget).removeClass('was-validated');\r\n        }\r\n      },\r\n      checkFile(e){\r\n        const files = [...e.currentTarget.files];\r\n        const _this = this;\r\n        const _URL = window.URL || window.webkitURL;\r\n        const leftImages = 3 - _this.files.length;\r\n        _this.fileErrName = [];\r\n        // 最多上傳三張\r\n        if(files.length > leftImages) files.splice(leftImages);\r\n        files.forEach((file,i)=>{\r\n          if(!file.type.includes('image/')){\r\n            console.log('not image');\r\n            return;\r\n          }\r\n          const img = new Image();\r\n          img.onload = function (e) {\r\n            if(this.width>150 || this.height>150){\r\n              _this.fileErrName.push(file.name);\r\n              return;\r\n            }\r\n            _this.files.push(e.path[0].currentSrc);\r\n          };\r\n          img.src = _URL.createObjectURL(file);\r\n        });\r\n      }\r\n    },\r\n    watch:{\r\n      'createAccount.confirmPassword': function(val){\r\n        if(val !== this.createAccount.password){\r\n          $('#input_confirmPassword')[0].setCustomValidity('not match');\r\n        }else{\r\n          $('#input_confirmPassword')[0].setCustomValidity('');\r\n        }\r\n      }\r\n    }\r\n  });\r\n});"]}