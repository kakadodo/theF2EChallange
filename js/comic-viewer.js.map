{"version":3,"sources":["comic-viewer.js"],"names":["$","PerfectScrollbar","click","e","chapterBtn","addClass","preventDefault","removeClass","scrollTo","toggleClass","pages","currentPage","totalPage","this","checkViewerBtn","removeAttr","attr","updateSelectChapter","viewerImg","data","viewerNav","offsetLeft","offsetWidth","currentPageUrl","navWidth","is","scrollLeft","scrollWidth","change","page","val","split","parent","closest"],"mappings":"aAAAA,EAAE,WAAA,IAAUC,iBAAA,0BAEKA,EAAAA,2BACfC,MAAA,SAAAC,GACAA,EAAMC,iBACNA,EAAAA,gBAAiBC,SAAA,UACfF,EAAEG,eAAFC,YAAA,UACAP,OAAEQ,SAAF,EAAkBH,KAGnBL,EALD,qBAAAE,MAAA,SAAAC,GAMAA,EAAAG,iBACEN,EAAA,gBAAAO,YAA2B,UAC3BJ,EAAEG,eAAFD,SAAA,UACAL,OAAEQ,SAAF,EAAkBD,KAGnBP,EALD,cAAAE,MAAA,WAMAF,EAAA,QAAAS,YAAA,UAGC,IAFDC,EAAA,CAGAC,YAAA,EACAC,UAAc,GACZD,eALF,WAMEC,MAAAA,qFAFYC,KAAAF,YAEZC,QAEEE,eARJ,WAIcd,EAAA,eAAAe,WAAA,YAAA,GAMZD,KAAAA,YACId,EAAA,oBAAee,KAAW,YAA5B,GACQJ,KAAAA,aAAeE,KAAAD,WACrBZ,EAAE,qBAAoBgB,KAAK,YAAW,IAGvCC,oBAhBL,WAIcjB,EAAA,uBAAAe,WAAA,YAcZE,EAAAA,gCAdYJ,KAAAF,YAcZM,MAAqBD,KAAA,YAAA,KAdvBE,EAAAlB,EAAA,0BAAA,GAoBAA,EAAA,SAAMkB,MAAYlB,WAClBA,EAAA,SAAAO,YAAA,UACEP,EAAAa,MAAFR,SAAiB,UACfL,EAAEW,YAASJ,EAAXM,MAAuBM,KAAvB,QACAnB,IAAAoB,EAAiBpB,EAAA,0BAAjB,GACAU,EAAMC,WAAgBX,EAAAa,MAAMM,GAAKE,WAAjCD,EAAAC,WAAAD,EAAAE,YAAA,EAAAtB,EAAAa,MAAA,GAAAS,YAAA,EACAJ,EAAME,IAAAA,EAAcG,iBACpBH,EAAAA,iBACAF,EAAAA,wBAGDlB,EATD,mBAAAE,MAAA,WAUA,IAAAsB,EAAAxB,EAAA,0BAAA,GAAAsB,YACEtB,EAAAa,MAAAY,GAAA,SACAzB,EAAMwB,0BAAa,GAAAE,WAA6BJ,EAE9CtB,EAAE,0BAA0B,GAAG0B,WAAa1B,EAA5C,0BAAA,GAAA2B,YAAAH,IAIHxB,EAPD,eAAAE,MAAA,WAQAF,EAAAa,MAAAY,GAAA,SACEf,EAAAC,cAEED,EAAMC,cAEND,EAAAA,oBAAAA,EAAAC,YAAAD,MAAAR,QACDQ,EAAAI,mBAGFd,EARD,gBAAA4B,OAAA,WASA,IAAAC,EAAA7B,EAAAa,MAAAiB,MAAAC,MAAA,KAAA,GACErB,EAAAC,YAAgBiB,SAAOC,GACvB7B,EAAAA,oBAAaU,EAAcqB,YAA3B,MAAA7B,UAGDF,EAJD,0BAAAE,MAAA,WAKAF,EAAAa,MAAAmB,SAAA3B,SAAA,gBAGCL,EAFD,cAAAE,MAAA,WAGAF,EAAAa,MAAAoB,QAAA,sBAAA1B,YAAA","file":"comic-viewer.js","sourcesContent":["$(function(){\r\n  //perfect scroller\r\n  const ps = new PerfectScrollbar('.comic_page_viewer_nav');\r\n  // toogle to comic page\r\n  const chapterBtn = $('.comic_chapters_lists a');\r\n  chapterBtn.click(function(e){\r\n    e.preventDefault();\r\n    $('.comic_index').addClass('d-none');\r\n    $('.comic_page').removeClass('d-none');\r\n    window.scrollTo(0,0);\r\n  });\r\n  //toogle to comic index\r\n  $('.comic_page_title').click(function(e){\r\n    e.preventDefault();\r\n    $('.comic_index').removeClass('d-none');\r\n    $('.comic_page').addClass('d-none');\r\n    window.scrollTo(0,0);\r\n  });\r\n  //toogle view mode\r\n  $('#view_mode').click(function(){\r\n    $('#app').toggleClass('dark');\r\n  });\r\n  //count page\r\n  const pages = {\r\n    currentPage:1,\r\n    totalPage:12,\r\n    currentPageUrl(){\r\n      return `https://hexschool.github.io/THE_F2E_Design/week5-comic%20viewer/assets/storyboard-${this.currentPage}.png`\r\n    },\r\n    checkViewerBtn(){\r\n      $('.viewer_btn').removeAttr('disabled');\r\n      if(this.currentPage==1){\r\n        $('.viewer_btn.left').attr('disabled',true);\r\n      }else if(this.currentPage == this.totalPage){\r\n        $('.viewer_btn.right').attr('disabled',true);\r\n      }\r\n    },\r\n    updateSelectChapter(){\r\n      $('.select_page option').removeAttr('selected');\r\n      $(`.select_page option[value=\"p-${this.currentPage}\"]`).attr('selected',true);\r\n    }\r\n  }\r\n  \r\n  const viewerImg = $('.comic_page_viewer img')[0];\r\n  //page nav click\r\n  $('.page').click(function(){\r\n    $('.page').removeClass('active');\r\n    $(this).addClass('active');\r\n    pages.currentPage = $(this).data('page');\r\n    const viewerNav = $('.comic_page_viewer_nav')[0]\r\n    viewerNav.scrollLeft = $(this)[0].offsetLeft - viewerNav.offsetLeft - viewerNav.offsetWidth/2 + $(this)[0].offsetWidth/2;\r\n    viewerImg.src=pages.currentPageUrl();\r\n    pages.checkViewerBtn();\r\n    pages.updateSelectChapter();\r\n  });\r\n  //page nav scroll btn\r\n  $('.viewer_nav_btn').click(function(){\r\n    const navWidth = $('.comic_page_viewer_nav')[0].offsetWidth;\r\n    if($(this).is('.left')){\r\n      $('.comic_page_viewer_nav')[0].scrollLeft = 0;\r\n    }else{\r\n      $('.comic_page_viewer_nav')[0].scrollLeft = $('.comic_page_viewer_nav')[0].scrollWidth - navWidth;\r\n    }\r\n  });\r\n  //viewer btn\r\n  $('.viewer_btn').click(function(){\r\n    if($(this).is('.left')){\r\n      pages.currentPage--;\r\n    }else{\r\n      pages.currentPage++;\r\n    }\r\n    $(`.page[data-page=\"${pages.currentPage}\"]`).click();\r\n    pages.checkViewerBtn();\r\n  });\r\n  //page select\r\n  $('.select_page').change(function(){\r\n    const page = $(this).val().split('-')[1];\r\n    pages.currentPage = parseInt(page);\r\n    $(`.page[data-page=\"${pages.currentPage}\"]`).click();\r\n  });\r\n  //open fullscreen\r\n  $('.comic_page_viewer img').click(function(){\r\n    $(this).parent().addClass('fullscreen');\r\n  });\r\n  //close fullscreen\r\n  $('.close_btn').click(function(){\r\n    $(this).closest('.comic_page_viewer').removeClass('fullscreen');\r\n  });\r\n});\r\n"]}