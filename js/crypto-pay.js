"use strict";var vm=null,formProfile={name:null,mobile:null,email:null,date:"2019/08/09",nop:{adult:0,child:0},code:null,comment:null,agree:!1},formPayment={name:null,cardNumber:["","","",""],cardNumberInput:null,expiredMonth:null,expiredYear:null,cvv:null};$(function(){Vue.use(VeeValidate,{classes:!0,classNames:{valid:"is-valid",invalid:"is-invalid"}}),vm=new Vue({el:"#app",data:{progress:{steps:["profile","payby","payment"],currentStep:0,profile:!1,payby:!1,payment:!1},payby:["超商代碼 7-11","ATM轉帳","街口支付","信用卡","LINE Pay"],formProfile:null,formPayby:null,formPayment:null,hideOrder:!0,isMobile:!1},computed:{},methods:{validateBeforeSubmit:function(r){var t=this;this.$validator.validateAll().then(function(e){if(e)return t.progress[r]=!0,void t.progress.currentStep++;"payby"===r&&($(".alert_payby").removeClass("hide").addClass("show"),setTimeout(function(){$(".alert_payby").removeClass("show").addClass("hide")},2e3))})},resetForm:function(e){switch(e){case"formProfile":return this.formProfile=JSON.parse(JSON.stringify(formProfile)),void this.$validator.reset();case"formPayby":return this.formPayby=null,this.progress.profile=!1,void this.progress.currentStep--;case"formPayment":return this.formPayment=JSON.parse(JSON.stringify(formPayment)),this.progress.payby=!1,void this.progress.currentStep--;default:return}},checkCardNumberInput:function(e,r){4===e.length&&r<3&&this.$refs.cardNumber[r+1].focus()},resetAllStep:function(){for(var e in this.progress)"steps"!==e&&(this.progress[e]="currentStep"===e&&0);this.initFormData()},initFormData:function(){this.formProfile=JSON.parse(JSON.stringify(formProfile)),this.formPayby=null,this.formPayment=JSON.parse(JSON.stringify(formPayment))},formatCreditNumber:function(e){var r=e.target.value.replace(/-/g,"").split(""),t=[];r.map(function(e,r){t.push(e),(r+1)%4==0&&t.length<19&&t.push("-")}),this.formPayment.cardNumberInput=t.join("")}},created:function(){var e=this;this.$validator.extend("nop",{validate:function(){return 0<e.formProfile.nop.adult+e.formProfile.nop.child}}),this.initFormData()},mounted:function(){var e=this,r=null;$(window).on("scroll",function(){$(window).width()<=767?(clearTimeout(r),r=setTimeout(function(){$(".popup_wrapper").animate({top:$(window).scrollTop()},300)},100)):$(".popup_wrapper").attr("style","")}),$(window).on("resize",function(){e.isMobile=$(window).width()<=575})}})});
//# sourceMappingURL=crypto-pay.js.map
