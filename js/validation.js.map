{"version":3,"sources":["validation.js"],"names":["$","Vue","el","data","step","vm","progressTop","mail","password","confirmPassword","dist","generalInfo","city","address","cardNumber","files","fileErrName","paymentMethod","cardHolder","expireMonth","expireYear","e","preventDefault","stopPropagation","methods","addClass","submitCheck","checkValidity","currentTarget","checkFile","_this","this","_URL","window","URL","webkitURL","length","leftImages","i","file","type","includes","console","width","height","push","name","path","currentSrc","img","src","createObjectURL","createAccount.confirmPassword","val","createAccount","setCustomValidity"],"mappings":"sJAAAA,EAAE,WAEW,IAAIC,IAAI,CACjBC,GAAG,OAHLC,KAAA,CAKIC,KAAK,EAHHC,YAAK,EACTH,cADiB,CAEjBC,KAAK,GACHC,SADG,GAEHE,gBAFG,IAIDC,YADY,CAEZC,MAAAA,GACAC,KAAAA,GANCC,KAAA,GAQHC,QAAAA,IAEEC,MAAAA,GACAF,YAHU,GAIVG,cAAQ,CAZPC,WAAA,GAcHC,WAdG,GAeHC,SAAAA,GACAC,IAAAA,GACEH,YAAW,GACXI,WAAAA,KAGAC,QAAAA,CACAC,YADAD,SACAC,GANYC,EAAAC,iBAlBCD,EAAAE,kBA2BjBC,EAAAA,EAAAA,eAAQC,SAAA,iBACNC,EAAAA,cADMC,kBAEFL,KAAAA,OACAC,KAAAA,cACAF,EAAEO,EAAAA,eAAeH,YAAS,mBAG1BI,UAXFV,SAWOb,GACLN,IAAI4B,EAAAA,GAAAA,OAAAA,mBAAAA,EAAJA,cAA+Bb,QAChCe,EAAAC,KATGC,EAAAC,OAAAC,KAAAD,OAAAE,UAWNN,EAXM,EAAAC,EAAAf,MAWMqB,OACVN,EAAMf,YAAAA,GAENA,EAAMiB,OAAcE,GAAOD,EAAOE,OAAlCE,GACAtB,EAAMsB,QAAAA,SAAAA,EAAaC,GACnBR,GAAMd,EAAAA,KAAAA,SAAN,UAAAc,CAIE,IAAIS,EAAKC,IAAKC,MACZC,EAAAA,OAAA,SAAYrB,GACZ,IAAAU,KAAAY,OAAA,IAAAZ,KAAAa,OACDd,EAAAd,YAAA6B,KAAAN,EAAAO,MAGChB,EAAGf,MAAK4B,KAAMtB,EAAA0B,KAAO,GAAAC,aAEnBC,EAAAC,IAAAlB,EAAAmB,gBAAAZ,QAIJU,MAAAA,CACDG,gCAdD,SAAAC,GAeDA,IAAAtB,KAAAuB,cAAA9C,SA7DcR,EAAA,0BAAA,GAAAuD,kBAAA,aAgEfvD,EAAA,0BAAA,GAAiCuD,kBAAA","file":"validation.js","sourcesContent":["$(function(){\r\n\r\n  const vm = new Vue({\r\n    el:'#app',\r\n    data:{\r\n      step:1,\r\n      progressTop:0,\r\n      createAccount:{\r\n        mail:'',\r\n        password:'',\r\n        confirmPassword:''\r\n      },\r\n      generalInfo:{\r\n        phone:'',\r\n        city:'',\r\n        dist:'',\r\n        address:''\r\n      },\r\n      files:[],\r\n      fileErrName:[],\r\n      paymentMethod:{\r\n        cardNumber:'',\r\n        cardHolder:'',\r\n        bankName:'',\r\n        cvv:'',\r\n        expireMonth:'',\r\n        expireYear:''\r\n      }\r\n    },\r\n    methods:{\r\n      submitCheck(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        $(e.currentTarget).addClass('was-validated');\r\n        if(e.currentTarget.checkValidity()){\r\n          this.step++;\r\n          this.progressTop++;\r\n          $(e.currentTarget).removeClass('was-validated');\r\n        }\r\n      },\r\n      checkFile(e){\r\n        const files = [...e.currentTarget.files];\r\n        const _this = this;\r\n        const _URL = window.URL || window.webkitURL;\r\n        const leftImages = 3 - _this.files.length;\r\n        _this.fileErrName = [];\r\n        // 最多上傳三張\r\n        if(files.length > leftImages) files.splice(leftImages);\r\n        files.forEach((file,i)=>{\r\n          if(!file.type.includes('image/')){\r\n            console.log('not image');\r\n            return;\r\n          }\r\n          const img = new Image();\r\n          img.onload = function (e) {\r\n            if(this.width>150 || this.height>150){\r\n              _this.fileErrName.push(file.name);\r\n              return;\r\n            }\r\n            _this.files.push(e.path[0].currentSrc);\r\n          };\r\n          img.src = _URL.createObjectURL(file);\r\n        });\r\n      }\r\n    },\r\n    watch:{\r\n      'createAccount.confirmPassword': function(val){\r\n        if(val !== this.createAccount.password){\r\n          $('#input_confirmPassword')[0].setCustomValidity('not match');\r\n        }else{\r\n          $('#input_confirmPassword')[0].setCustomValidity('');\r\n        }\r\n      }\r\n    }\r\n  });\r\n});"]}