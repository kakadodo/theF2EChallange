{"version":3,"sources":["cloud-drive.js"],"names":["vm","projectData","id","children","type","parentId","name","colorTag","isMarkBoxOpen","parentType","el","data","currentDriveTarget","modalTodo","title","addFile","currentModalTodo","searchMode","isSearch","searchInput","searchResult","getCurrentDrivePath","pathStr","parent","$","Vue","showColorTag","color","showTypeIcon","addProject","addFolder","searchContent","index","computed","_this","this","toggleMarkBox","target","pid","setColorTag","getProject","find","folder","showModal","changeCurrentDriveTarget","addColorTag","addFileType","backToParent","_this2","modalData","forEach","submitModalData","intoFolder","project","todo","parentIdArr","modal","resetModalData","child","push","tempArr","key","loopChildColor","Date","getTime","loopChildText","subChild","getSearchResult","indexOf","_this3","created"],"mappings":"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","file":"cloud-drive.js","sourcesContent":["let vm = null;\r\nconst projectData = [\r\n  {\r\n    \"id\": 1,\r\n    \"type\": \"project\",\r\n    \"name\": \"工作\",\r\n    \"children\": [\r\n      {\r\n        \"id\": 11,\r\n        \"type\": \"folder\",\r\n        \"parentId\": [\r\n          1\r\n        ],\r\n        \"name\": \"老闆給的\",\r\n        \"colorTag\": \"red\",\r\n        \"isMarkBoxOpen\": false,\r\n        \"children\": [\r\n          {\r\n            \"id\": 111,\r\n            \"type\": \"img\",\r\n            \"parentId\": [\r\n              11\r\n            ],\r\n            \"name\": \"螢幕截圖\",\r\n            \"colorTag\": \"orange\",\r\n            \"isMarkBoxOpen\": false\r\n          },\r\n          {\r\n            \"id\": 112,\r\n            \"type\": \"pdf\",\r\n            \"parentId\": [\r\n              11\r\n            ],\r\n            \"name\": \"後端 API 串接說明\",\r\n            \"colorTag\": \"purple\",\r\n            \"isMarkBoxOpen\": false\r\n          },\r\n          {\r\n            \"id\": 113,\r\n            \"type\": \"folder\",\r\n            \"parentId\": [\r\n              1,\r\n              11\r\n            ],\r\n            \"name\": \"巢狀資料夾\",\r\n            \"colorTag\": \"red\",\r\n            \"isMarkBoxOpen\": false,\r\n            \"children\": [\r\n              {\r\n                \"id\": 1131,\r\n                \"type\": \"img\",\r\n                \"parentId\": [\r\n                  113\r\n                ],\r\n                \"name\": \"另一個螢幕截圖\",\r\n                \"colorTag\": \"orange\",\r\n                \"isMarkBoxOpen\": false\r\n              },\r\n              {\r\n                \"id\": 1132,\r\n                \"type\": \"pdf\",\r\n                \"parentId\": [\r\n                  113\r\n                ],\r\n                \"name\": \"另一個後端 API 串接說明\",\r\n                \"colorTag\": \"purple\",\r\n                \"isMarkBoxOpen\": false\r\n              },\r\n              {\r\n                \"id\": 1567352504087,\r\n                \"type\": \"folder\",\r\n                \"children\": [\r\n                  {\r\n                    \"id\": 1567352520733,\r\n                    \"type\": \"pdf\",\r\n                    \"name\": \"巢到爆的PDF檔\",\r\n                    \"colorTag\": null,\r\n                    \"parentId\": 1567352504087,\r\n                    \"isMarkBoxOpen\": false\r\n                  },\r\n                  {\r\n                    \"id\": 1567352534492,\r\n                    \"type\": \"img\",\r\n                    \"name\": \"巢到爆的JPG\",\r\n                    \"colorTag\": null,\r\n                    \"parentId\": 1567352504087,\r\n                    \"isMarkBoxOpen\": false\r\n                  }\r\n                ],\r\n                \"name\": \"巢到爆\",\r\n                \"colorTag\": \"red\",\r\n                \"parentId\": [\r\n                  1,\r\n                  11,\r\n                  113\r\n                ],\r\n                \"isMarkBoxOpen\": false\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"id\": 12,\r\n        \"type\": \"word\",\r\n        \"parentType\": \"project\",\r\n        \"parentId\": [\r\n          1\r\n        ],\r\n        \"name\": \"工作排程表\",\r\n        \"colorTag\": \"\",\r\n        \"isMarkBoxOpen\": false\r\n      },\r\n      {\r\n        \"id\": 13,\r\n        \"type\": \"folder\",\r\n        \"parentType\": \"project\",\r\n        \"parentId\": [\r\n          1\r\n        ],\r\n        \"name\": \"已完成專案\",\r\n        \"colorTag\": \"green\",\r\n        \"isMarkBoxOpen\": false,\r\n        \"children\": [\r\n          {\r\n            \"id\": 131,\r\n            \"type\": \"word\",\r\n            \"parentId\": [\r\n              13\r\n            ],\r\n            \"name\": \"會議記錄\",\r\n            \"colorTag\": \"red\",\r\n            \"isMarkBoxOpen\": false\r\n          },\r\n          {\r\n            \"id\": 132,\r\n            \"type\": \"pdf\",\r\n            \"parentId\": [\r\n              13\r\n            ],\r\n            \"name\": \"作品整理\",\r\n            \"colorTag\": \"purple\",\r\n            \"isMarkBoxOpen\": false\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"id\": 2,\r\n    \"type\": \"project\",\r\n    \"name\": \"宜蘭出遊\",\r\n    \"children\": [\r\n      {\r\n        \"id\": 22,\r\n        \"type\": \"folder\",\r\n        \"parentId\": [\r\n          2\r\n        ],\r\n        \"name\": \"行前準備\",\r\n        \"colorTag\": \"orange\",\r\n        \"isMarkBoxOpen\": false,\r\n        \"children\": [\r\n          {\r\n            \"id\": 222,\r\n            \"type\": \"word\",\r\n            \"parentId\": [\r\n              22\r\n            ],\r\n            \"name\": \"兩天行程表\",\r\n            \"colorTag\": \"green\",\r\n            \"isMarkBoxOpen\": false\r\n          },\r\n          {\r\n            \"id\": 223,\r\n            \"type\": \"mp4\",\r\n            \"parentId\": [\r\n              22\r\n            ],\r\n            \"name\": \"狼人殺教學影片\",\r\n            \"colorTag\": \"purple\",\r\n            \"isMarkBoxOpen\": false\r\n          },\r\n          {\r\n            \"id\": 224,\r\n            \"type\": \"word\",\r\n            \"parentId\": [\r\n              22\r\n            ],\r\n            \"name\": \"行李清單\",\r\n            \"colorTag\": \"green\",\r\n            \"isMarkBoxOpen\": false\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"id\": 23,\r\n        \"type\": \"img\",\r\n        \"parentType\": \"project\",\r\n        \"parentId\": [\r\n          2\r\n        ],\r\n        \"name\": \"獨木舟\",\r\n        \"colorTag\": \"\",\r\n        \"isMarkBoxOpen\": false\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n$(function () {\r\n  vm = new Vue({\r\n    el: \"#app\",\r\n    data: {\r\n      projectData: null,\r\n      currentDriveTarget: null,\r\n      modalTodo: {\r\n        addProject: {\r\n          title: '新增專案目錄',\r\n          name: null,\r\n        },\r\n        addFile: {\r\n          title: '新增檔案',\r\n          name: null,\r\n          colorTag: null,\r\n          type: null,\r\n        },\r\n        addFolder: {\r\n          title: '新增資料夾',\r\n          name: null,\r\n          colorTag: null,\r\n        }\r\n      },\r\n      currentModalTodo: 'addProject',\r\n      searchMode: {\r\n        isSearch: false,\r\n        searchInput: null,\r\n        searchContent: null,\r\n        searchResult: null,\r\n      }\r\n    },\r\n    computed: {\r\n      getCurrentDrivePath() {\r\n        let pathStr;\r\n        if (this.currentDriveTarget.type === 'project') {\r\n          pathStr = this.currentDriveTarget.name;\r\n        } else {\r\n          let parent;\r\n          this.currentDriveTarget.parentId.forEach((pid, index) => {\r\n            if (index === 0) {\r\n              parent = this.getProject(pid);\r\n              pathStr = parent.name;\r\n            } else {\r\n              parent = parent.children.find((folder) => {\r\n                return folder.id === pid;\r\n              });\r\n              pathStr += `/${parent.name}`;\r\n            }\r\n          });\r\n          pathStr = `${pathStr}/${this.currentDriveTarget.name}`;\r\n        }\r\n        return pathStr;\r\n      }\r\n    },\r\n    methods: {\r\n      changeCurrentDriveTarget(target) {\r\n        this.currentDriveTarget = target;\r\n        this.searchMode.isSearch = false;\r\n      },\r\n      showColorTag(color) {\r\n        if (!color) return;\r\n        return color;\r\n      },\r\n      showTypeIcon(type) {\r\n        switch (type) {\r\n          case 'folder':\r\n            return 'fa-folder-open';\r\n          case 'img':\r\n            return 'fa-image';\r\n          case 'mp4':\r\n            return 'fa-play-circle';\r\n          case 'word':\r\n            return 'fa-file-word';\r\n          case 'pdf':\r\n            return 'fa-file-pdf';\r\n          default: return;\r\n        }\r\n      },\r\n      backToParent() {\r\n        let parent;\r\n        this.currentDriveTarget.parentId.forEach((pid, index) => {\r\n          if (index === 0) {\r\n            parent = this.getProject(pid);\r\n          } else {\r\n            parent = parent.children.find((folder) => {\r\n              return folder.id === pid;\r\n            });\r\n          }\r\n        });\r\n        this.currentDriveTarget = parent;\r\n      },\r\n      toggleMarkBox(target) {\r\n        target.isMarkBoxOpen = !target.isMarkBoxOpen;\r\n      },\r\n      setColorTag(color, target) {\r\n        target.colorTag = color;\r\n        target.isMarkBoxOpen = false;\r\n      },\r\n      intoFolder(target) {\r\n        if (target.type !== 'folder') return;\r\n        this.currentDriveTarget = target;\r\n        this.searchMode.isSearch = false;\r\n      },\r\n      getProject(id) {\r\n        return this.projectData.find((project) => {\r\n          return project.id === id;\r\n        });\r\n      },\r\n      showModal(todo) {\r\n        switch (todo) {\r\n          case 'addProject':\r\n            this.currentModalTodo = 'addProject';\r\n            break;\r\n          case 'addFile':\r\n            this.currentModalTodo = 'addFile';\r\n            break;\r\n          case 'addFolder':\r\n            this.currentModalTodo = 'addFolder';\r\n            break;\r\n          default: return;\r\n        }\r\n        $('#modal').modal('show');\r\n      },\r\n      addColorTag(color) {\r\n        this.modalTodo[this.currentModalTodo].colorTag = color;\r\n      },\r\n      addFileType(type) {\r\n        this.modalTodo[this.currentModalTodo].type = type;\r\n      },\r\n      resetModalData() {\r\n        const modalData = this.modalTodo[this.currentModalTodo];\r\n        for (const key in modalData) {\r\n          if (key !== 'title') {\r\n            modalData[key] = null;\r\n          }\r\n        }\r\n        $('#modal').modal('hide');\r\n      },\r\n      submitModalData() {\r\n        switch (this.currentModalTodo) {\r\n          case 'addProject':\r\n            if (!this.modalTodo[this.currentModalTodo].name) return;\r\n            this.projectData.push({\r\n              id: new Date().getTime(),\r\n              type: 'project',\r\n              children: [],\r\n              name: this.modalTodo[this.currentModalTodo].name,\r\n            });\r\n            break;\r\n          case 'addFile':\r\n            if (!this.modalTodo[this.currentModalTodo].name || !this.modalTodo[this.currentModalTodo].type) return;\r\n            this.currentDriveTarget.children.push({\r\n              id: new Date().getTime(),\r\n              type: this.modalTodo[this.currentModalTodo].type,\r\n              name: this.modalTodo[this.currentModalTodo].name,\r\n              colorTag: this.modalTodo[this.currentModalTodo].colorTag,\r\n              parentId: this.currentDriveTarget.id,\r\n              isMarkBoxOpen: false,\r\n            });\r\n            break;\r\n          case 'addFolder':\r\n            if (!this.modalTodo[this.currentModalTodo].name) return;\r\n            const parentIdArr = this.currentDriveTarget.parentId ? [...this.currentDriveTarget.parentId, this.currentDriveTarget.id]\r\n              : [this.currentDriveTarget.id];\r\n            this.currentDriveTarget.children.push({\r\n              id: new Date().getTime(),\r\n              type: 'folder',\r\n              children: [],\r\n              name: this.modalTodo[this.currentModalTodo].name,\r\n              colorTag: this.modalTodo[this.currentModalTodo].colorTag,\r\n              parentId: parentIdArr,\r\n              isMarkBoxOpen: false,\r\n            });\r\n            break;\r\n          default: return;\r\n        }\r\n        this.resetModalData();\r\n      },\r\n      getSearchResult(color) {\r\n        let tempArr = [];\r\n        const loopChildColor = (child) => {\r\n          // 跑沒有 children 的子層\r\n          if (!child.children && child.colorTag === color) {\r\n            tempArr.push(child);\r\n          }\r\n          // 跑有子層的 folder 及它子層的 loop\r\n          if (child.type === 'folder' && child.children) {\r\n            if (child.colorTag === color) {\r\n              tempArr.push(child);\r\n            }\r\n            child.children.forEach((subChild) => {\r\n              loopChildColor(subChild);\r\n            });\r\n          }\r\n        }\r\n        const loopChildText = (child) => {\r\n          // 跑沒有 children 的子層\r\n          if (!child.children && child.name.indexOf(this.searchMode.searchInput) !== -1) {\r\n            tempArr.push(child);\r\n          }\r\n          // 跑有子層的 folder 及它子層的 loop\r\n          if (child.type === 'folder' && child.children) {\r\n            if (child.name.indexOf(this.searchMode.searchInput) !== -1) {\r\n              tempArr.push(child);\r\n            }\r\n            child.children.forEach((subChild) => {\r\n              loopChildText(subChild);\r\n            });\r\n          }\r\n        }\r\n        if (color) {\r\n          // 搜尋符合的顏色標籤\r\n          this.projectData.forEach((project) => {\r\n            project.children.forEach((child) => {\r\n              loopChildColor(child);\r\n            });\r\n          });\r\n          this.searchMode.searchContent = `${color} tag`;\r\n        }\r\n        else {\r\n          // 搜尋關鍵字\r\n          if (!this.searchMode.searchInput) return;\r\n          this.projectData.forEach((project) => {\r\n            project.children.forEach((child) => {\r\n              loopChildText(child);\r\n            });\r\n          });\r\n          this.searchMode.searchContent = this.searchMode.searchInput;\r\n          this.searchMode.searchInput = '';\r\n        }\r\n        this.searchMode.searchResult = tempArr;\r\n        this.searchMode.isSearch = true;\r\n      },\r\n    },\r\n    created() {\r\n      this.projectData = projectData;\r\n      this.currentDriveTarget = this.projectData[0];\r\n    }\r\n  });\r\n});\r\n"]}