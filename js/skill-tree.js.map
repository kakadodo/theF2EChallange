{"version":3,"sources":["skill-tree.js"],"names":["$","Vue","el","data","vm","skillDatas","ranks","name","sentence","picUrl","currentRank","methods","currentComplete","complete","length","lists","filter","list","focusList","branch","this","forEach","skill","active","currentBranch","toggleListComplete","checkBranchComplete","recommend","recommendComplete","every","checkLevelComplete","levelCompleteCount","levelComplete","created","_this","getJSON"],"mappings":"aAAAA,EAAE,WAAA,IAAYC,IAAA,CACZC,GAAMC,OACNA,KAAMC,CACJF,WADiB,GAEjBC,MAAM,CAAA,CACJE,KAAAA,OACAC,OAAQ,mCACJC,SADI,4JAGJC,CAEFD,KAAA,WACEA,OAAM,uCACNE,SAAQ,0JAPL,CAWHF,KAAM,YACNE,OAAQ,wCACRD,SAAU,8KAGVD,CACAE,KAAQ,SACRD,OAAU,qCApBVA,SAAA,qKAFWE,YAAA,EA4BjBC,cAAS,IAELA,QAAA,CAAwCC,gBAAxC,SAAuDC,GAAf,OAAxC,MAAyEC,EAAzE,EAAAC,EAAAC,OAAA,SAAAC,GAAA,OAAA,GAAAA,EAAAJ,WAAAC,QAEFI,UAFE,SAFKC,GAKLC,KAAKf,WAAWgB,QAAQ,SAAAC,GACtBA,EAAMH,OAAOE,QAAQ,SAAAF,GACnBA,EAAOI,QAAS,MAGpBJ,EAAOI,QAAS,EAChBH,KAAKI,cAAgBL,GAEvBM,mBAXE,SAFKR,GAcLA,EAAKJ,UAAYI,EAAKJ,SACtBO,KAAKM,uBAEPA,oBAfE,WAiBA,GAAG,MAAHN,KAAGI,cAAAG,UACuE,OAA1EP,KAAKI,cAAcI,kBAAoBR,KAAKI,cAAcG,UAAUE,MAAM,SAAAZ,GAAA,OAAA,GAAAA,EAAAJ,WAA1EO,KAAAI,cAAAI,mBAAAR,KAAAU,sBAEAA,mBApBA,WAFK,IAAAC,EAAA,EAwBPD,KAAAA,WAxBOT,QAAA,SAAAC,GAyBLA,EAAIS,cAAAA,EAAJZ,OAAAU,MAAA,SAAAV,GAAA,OAAA,GAAAA,EAAAS,oBACAG,EAAiC,GAAjCT,EAAwBU,gBAASD,EAAAA,IACUX,KAAAV,YAAuC,GAArBkB,EAAlBG,EAAAA,EAAA,IAE1CE,QA3DK,WAwDN,IAAAC,EAAAd,KAIApB,EAAAmC,QA3DO,2FA2DFzB,SAAAA,GACNwB,EAAA7B,WAAAF,EAEH8B,EA7DiBT,cAAAU,EA6DP7B,WAAA,GAAAc,OAAA","file":"skill-tree.js","sourcesContent":["$(function () {\r\n  const data = 'https://raw.githubusercontent.com/kakadodo/theF2EChallange/gh-pages/json/skill-tree.json';\r\n  const vm = new Vue({\r\n    el: '#app',\r\n    data: {\r\n      skillDatas: [],\r\n      ranks: [{\r\n          name: 'NOOB',\r\n          picUrl: './img/week9/img-ship-noob@2x.png',\r\n          sentence: 'Welcome to aboard. Your mission is: <span class=\"highline\">Collect the resources and learn the skills to upgrade the ship.</span><br>Good luck, captain!'\r\n        },\r\n        {\r\n          name: 'BEGINNER',\r\n          picUrl: './img/week9/img-ship-beginner@2x.png',\r\n          sentence: '<b>Congradulations!</b> You become the <span class=\"highline\">“Front-end Beginnner”</span>. Keep searching the resources to upgrade to the next level.'\r\n        },\r\n        {\r\n          name: 'DEVELOPER',\r\n          picUrl: './img/week9/img-ship-developer@2x.png',\r\n          sentence: '<b>You’re doing well!</b> Now you’re a <span class=\"highline\">“Front-end Developer”</span>. It’s close to complete the upgrading program.<br>Next level: Front-end Master.'\r\n        },\r\n        {\r\n          name: 'MASTER',\r\n          picUrl: './img/week9/img-ship-master@2x.png',\r\n          sentence: '<b>Excellent!</b> You’re a <span class=\"highline\">“Front-end Master”</span> now. But a new galary was just detected by the system.<br>Captain, make your choice.'\r\n        }\r\n      ],\r\n      currentRank: 0,\r\n      currentBranch:{}\r\n    },\r\n    methods: {\r\n      currentComplete(lists) {\r\n        return lists == null ? 0 : lists.filter((list) => list.complete == true).length;\r\n      },\r\n      focusList(branch) {\r\n        this.skillDatas.forEach((skill) => {\r\n          skill.branch.forEach((branch) => {\r\n            branch.active = false;\r\n          });\r\n        });\r\n        branch.active = true;\r\n        this.currentBranch = branch;\r\n      },\r\n      toggleListComplete(list){\r\n        list.complete = !list.complete;\r\n        this.checkBranchComplete();\r\n      },\r\n      checkBranchComplete(){\r\n        //如果沒recommend就跳過下面檢查\r\n        if(this.currentBranch.recommend == null) return;\r\n        this.currentBranch.recommendComplete = this.currentBranch.recommend.every((list)=> list.complete == true);\r\n        //如果當前的branch有完成，就檢查當前level的branch是否都完成\r\n        return this.currentBranch.recommendComplete && this.checkLevelComplete();\r\n      },\r\n      checkLevelComplete(){\r\n        let levelCompleteCount = 0;\r\n        this.skillDatas.forEach((skill)=>{\r\n          skill.levelComplete = skill.branch.every((branch)=> branch.recommendComplete == true);\r\n          levelCompleteCount = skill.levelComplete == true? ++levelCompleteCount : levelCompleteCount;\r\n        });\r\n        this.currentRank = levelCompleteCount == 0? levelCompleteCount: levelCompleteCount-1;\r\n      }\r\n    },\r\n    created() {\r\n      $.getJSON(data, (data) => {\r\n        this.skillDatas = data;\r\n        //初始化為第一個branch\r\n        this.currentBranch = this.skillDatas[0].branch[0];\r\n      });\r\n    }\r\n  });\r\n});"]}